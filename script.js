!function(e){var t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(r,c,function(t){return e[t]}.bind(null,c));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(2),e.exports=n(1)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=[{code:"Backquote",ru:"ё",en:"`",enSpec:"~"},{code:"Digit1",ru:"1",en:"1",enSpec:"!",ruSpec:"!"},{code:"Digit2",ru:"2",en:"2",enSpec:"@",ruSpec:'"'},{code:"Digit3",ru:"3",en:"3",enSpec:"#",ruSpec:"№"},{code:"Digit4",ru:"4",en:"4",enSpec:"$",ruSpec:";"},{code:"Digit5",ru:"5",en:"5",enSpec:"%",ruSpec:"%"},{code:"Digit6",ru:"6",en:"6",enSpec:"^",ruSpec:":"},{code:"Digit7",ru:"7",en:"7",enSpec:"&",ruSpec:"?"},{code:"Digit8",ru:"8",en:"8",enSpec:"*",ruSpec:"*"},{code:"Digit9",ru:"9",en:"9",enSpec:"(",ruSpec:"("},{code:"Digit0",ru:"0",en:"0",enSpec:")",ruSpec:")"},{code:"Minus",ru:"-",en:"-",enSpec:"_",ruSpec:"_"},{code:"Equal",ru:"=",en:"=",enSpec:"+",ruSpec:"+"},{code:"Backspace",ru:"Backspace",en:"Backspace"},{code:"Tab",ru:"Tab",en:"Tab"},{code:"KeyQ",ru:"й",en:"q"},{code:"KeyW",ru:"ц",en:"w"},{code:"KeyE",ru:"у",en:"e"},{code:"KeyR",ru:"к",en:"r"},{code:"KeyT",ru:"е",en:"t"},{code:"KeyY",ru:"н",en:"y"},{code:"KeyU",ru:"г",en:"u"},{code:"KeyI",ru:"ш",en:"i"},{code:"KeyO",ru:"щ",en:"o"},{code:"KeyP",ru:"з",en:"p"},{code:"BracketLeft",ru:"х",en:"[",enSpec:"{"},{code:"BracketRight",ru:"ъ",en:"]",enSpec:"}"},{code:"Backslash",ru:"\\",en:"\\",enSpec:"|",ruSpec:"/"},{code:"Delete",ru:"Del",en:"Del"},{code:"CapsLock",ru:"Caps Lock",en:"Caps Lock"},{code:"KeyA",ru:"ф",en:"a"},{code:"KeyS",ru:"ы",en:"s"},{code:"KeyD",ru:"в",en:"d"},{code:"KeyF",ru:"а",en:"f"},{code:"KeyG",ru:"п",en:"g"},{code:"KeyH",ru:"р",en:"h"},{code:"KeyJ",ru:"о",en:"j"},{code:"KeyK",ru:"л",en:"k"},{code:"KeyL",ru:"д",en:"l"},{code:"Semicolon",ru:"ж",en:";",enSpec:":"},{code:"Quote",ru:"э",en:'"',enSpec:'"'},{code:"Enter",ru:"Enter",en:"Enter"},{code:"ShiftLeft",ru:"Shift",en:"Shift"},{code:"KeyZ",ru:"я",en:"z"},{code:"KeyX",ru:"ч",en:"x"},{code:"KeyC",ru:"с",en:"c"},{code:"KeyV",ru:"м",en:"v"},{code:"KeyB",ru:"и",en:"b"},{code:"KeyN",ru:"т",en:"n"},{code:"KeyM",ru:"ь",en:"m"},{code:"Comma",ru:"б",en:",",enSpec:"<"},{code:"Dot",ru:"ю",en:".",enSpec:">"},{code:"Slash",ru:".",en:"/",enSpec:"?",ruSpec:","},{code:"ArrowUp",ru:"↑",en:"↑"},{code:"ShiftRight",ru:"Shift",en:"Shift"},{code:"ControlLeft",ru:"Ctrl",en:"Ctrl"},{code:"MetaLeft",ru:"Win",en:"Win"},{code:"AltLeft",ru:"Alt",en:"Alt"},{code:"Space",ru:"Space",en:"Space"},{code:"AltRight",ru:"Alt",en:"Alt"},{code:"ArrowLeft",ru:"←",en:"←"},{code:"ArrowDown",ru:"↓",en:"↓"},{code:"ArrowRight",ru:"→",en:"→"},{code:"ControlRight",ru:"Ctrl",en:"Ctrl"}];const c={lang:"ru",shiftFlag:"off"};null!==localStorage.getItem("lang")&&(c.lang=localStorage.getItem("lang"));const o=document.createElement("div");o.className="wrapper",document.body.append(o);const a=document.createElement("textarea");a.className="textarea",a.setAttribute("disabled","disabled"),document.body.querySelector("div").append(a);const u=document.createElement("div");function d(){if("off"===c.shiftFlag)for(const e in r){const t=document.createElement("div");t.className="btn",t.innerText="en"===c.lang?r[e].en:r[e].ru,t.setAttribute("keyCode",r[e].code),u.appendChild(t)}else for(const e in r){const t=document.createElement("div");t.className="btn","ru"===c.lang?(t.innerText=r[e].ruSpec?r[e].ruSpec:r[e].ru,t.setAttribute("keyCode",r[e].code),u.appendChild(t)):(t.innerText=r[e].enSpec?r[e].enSpec:r[e].en,t.setAttribute("keyCode",r[e].code),u.appendChild(t))}}function i(){97!==document.querySelector("div[keycode=KeyA").innerText.charCodeAt()&&65!==document.querySelector("div[keycode=KeyA").innerText.charCodeAt()||(u.style.textTransform=97!==document.querySelector("div[keycode=KeyA").innerText.charCodeAt()?"none":"capitalize"),1060!==document.querySelector("div[keycode=KeyA").innerText.charCodeAt()&&1092!==document.querySelector("div[keycode=KeyA").innerText.charCodeAt()||(u.style.textTransform=1092!==document.querySelector("div[keycode=KeyA").innerText.charCodeAt()?"none":"capitalize"),"on"===c.shiftFlag&&(u.innerHTML="",d()),u.innerHTML="",d()}function l(e,...t){const n=new Set;document.addEventListener("keydown",r=>{n.add(r.code);for(const e of t)if(!n.has(e))return;n.clear(),c.lang="ru"===e()?"en":"ru",u.innerHTML="",d(),localStorage.setItem("lang",c.lang)}),document.addEventListener("keyup",e=>{n.delete(e.code)})}u.className="keyboard",document.body.querySelector("div").append(u),d(),document.addEventListener("keydown",e=>{const t=r.find(t=>t.code===e.code),n=document.querySelector(`div[keycode=${t.code}]`),o=document.querySelector("textarea");switch(n.style.background="linear-gradient(rgb(250, 250, 250), rgb(150, 160, 170))",1===t[c.lang].length&&(a.value+=`${n.innerText}`),t.code){case"CapsLock":u.style.textTransform="capitalize"!==u.style.textTransform?"capitalize":"none";break;case"ShiftRight":case"ShiftLeft":"off"===c.shiftFlag&&(c.shiftFlag="on",i());break;case"Tab":e.preventDefault(),a.value+="  ";break;case"Space":a.value+=" ";break;case"Backspace":o.value=o.value.substr(0,o.value.length-1);break;case"Enter":a.value+="\n"}}),document.addEventListener("keyup",e=>{const t=r.find(t=>t.code===e.code);document.querySelector(`div[keycode=${t.code}]`).style.background="rgb(243, 243, 243)","Shift"===t.en&&(c.shiftFlag="off",i())}),document.querySelector(".keyboard").addEventListener("click",e=>{"keyboard"!==e.target.className&&1===e.target.innerText.length&&(a.value+=`${e.target.innerText}`);const t=r.find(t=>t.en===e.target.innerText),n=document.querySelector("textarea");switch(t.code){case"CapsLock":u.style.textTransform="capitalize"!==u.style.textTransform?"capitalize":"none";break;case"Tab":e.preventDefault(),a.value+="  ";break;case"Backspace":n.value=n.value.substr(0,n.value.length-1);break;case"Space":a.value+=" ";break;case"Enter":a.value+="\n"}}),document.querySelector(".keyboard").addEventListener("mousedown",e=>{"Shift"===r.find(t=>t.en===e.target.innerText).en&&"off"===c.shiftFlag&&(c.shiftFlag="on",i())}),document.querySelector(".keyboard").addEventListener("mouseup",e=>{const t=r.find(t=>t.en===e.target.innerText);"ShiftRight"!==t.code&&"ShiftLeft"!==t.code||(c.shiftFlag="off",i())}),l(()=>c.lang,"ControlLeft","AltLeft"),l(()=>c.lang,"ControlRight","AltRight"),l(()=>c.lang,"ControlLeft","AltRight"),l(()=>c.lang,"ControlRight","AltLeft")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwia2V5cyIsImNvZGUiLCJydSIsImVuIiwiZW5TcGVjIiwicnVTcGVjIiwiYXBwU3RhdGUiLCJsYW5nIiwic2hpZnRGbGFnIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImJvZHkiLCJhcHBlbmQiLCJ0ZXh0Iiwic2V0QXR0cmlidXRlIiwicXVlcnlTZWxlY3RvciIsImtleWJvYXJkIiwiZHJhd0JvYXJkIiwiYnRuIiwiaW5uZXJUZXh0IiwiYXBwZW5kQ2hpbGQiLCJzaGlmdCIsImNoYXJDb2RlQXQiLCJzdHlsZSIsInRleHRUcmFuc2Zvcm0iLCJpbm5lckhUTUwiLCJydW5PbktleXMiLCJmdW5jIiwiY29kZXMiLCJwcmVzc2VkIiwiU2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiYWRkIiwiaGFzIiwiY2xlYXIiLCJzZXRJdGVtIiwiZGVsZXRlIiwiYnV0dG9uIiwiZmluZCIsInN0cmluZyIsImJhY2tncm91bmQiLCJsZW5n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LEVBQVNFLFVBQVksS0FDckJpQixPQUtOYixTQUFTTyxjQUFjLGFBQWFnQixpQkFBaUIsVUFBWUMsSUFDL0QsTUFBTU0sRUFBUzFDLEVBQUsyQyxLQUFNckIsR0FBUUEsRUFBSW5CLEtBQU9pQyxFQUFNYSxPQUFPMUIsV0FDdEMsZUFBaEJtQixFQUFPekMsTUFBeUMsY0FBaEJ5QyxFQUFPekMsT0FDekNLLEVBQVNFLFVBQVksTUFDckJpQixPQTRCSkssRUFDRSxJQUFNeEIsRUFBU0MsS0FDZixjQUNBLFdBRUZ1QixFQUNFLElBQU14QixFQUFTQyxLQUNmLGVBQ0EsWUFFRnVCLEVBQ0UsSUFBTXhCLEVBQVNDLEtBQ2YsY0FDQSxZQUVGdUIsRUFDRSxJQUFNeEIsRUFBU0MsS0FDZixlQUNBIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImNvbnN0IGtleXMgPSBbXG4gIHtcbiAgICBjb2RlOiAnQmFja3F1b3RlJywgcnU6ICfRkScsIGVuOiAnYCcsIGVuU3BlYzogJ34nLFxuICB9LFxuICB7XG4gICAgY29kZTogJ0RpZ2l0MScsIHJ1OiAnMScsIGVuOiAnMScsIGVuU3BlYzogJyEnLCBydVNwZWM6ICchJyxcbiAgfSxcbiAge1xuICAgIGNvZGU6ICdEaWdpdDInLCBydTogJzInLCBlbjogJzInLCBlblNwZWM6ICdAJywgcnVTcGVjOiAnXCInLFxuICB9LFxuICB7XG4gICAgY29kZTogJ0RpZ2l0MycsIHJ1OiAnMycsIGVuOiAnMycsIGVuU3BlYzogJyMnLCBydVNwZWM6ICfihJYnLFxuICB9LFxuICB7XG4gICAgY29kZTogJ0RpZ2l0NCcsIHJ1OiAnNCcsIGVuOiAnNCcsIGVuU3BlYzogJyQnLCBydVNwZWM6ICc7JyxcbiAgfSxcbiAge1xuICAgIGNvZGU6ICdEaWdpdDUnLCBydTogJzUnLCBlbjogJzUnLCBlblNwZWM6ICclJywgcnVTcGVjOiAnJScsXG4gIH0sXG4gIHtcbiAgICBjb2RlOiAnRGlnaXQ2JywgcnU6ICc2JywgZW46ICc2JywgZW5TcGVjOiAnXicsIHJ1U3BlYzogJzonLFxuICB9LFxuICB7XG4gICAgY29kZTogJ0RpZ2l0NycsIHJ1OiAnNycsIGVuOiAnNycsIGVuU3BlYzogJyYnLCBydVNwZWM6ICc/JyxcbiAgfSxcbiAge1xuICAgIGNvZGU6ICdEaWdpdDgnLCBydTogJzgnLCBlbjogJzgnLCBlblNwZWM6ICcqJywgcnVTcGVjOiAnKicsXG4gIH0sXG4gIHtcbiAgICBjb2RlOiAnRGlnaXQ5JywgcnU6ICc5JywgZW46ICc5JywgZW5TcGVjOiAnKCcsIHJ1U3BlYzogJygnLFxuICB9LFxuICB7XG4gICAgY29kZTogJ0RpZ2l0MCcsIHJ1OiAnMCcsIGVuOiAnMCcsIGVuU3BlYzogJyknLCBydVNwZWM6ICcpJyxcbiAgfSxcbiAge1xuICAgIGNvZGU6ICdNaW51cycsIHJ1OiAnLScsIGVuOiAnLScsIGVuU3BlYzogJ18nLCBydVNwZWM6ICdfJyxcbiAgfSxcbiAge1xuICAgIGNvZGU6ICdFcXVhbCcsIHJ1OiAnPScsIGVuOiAnPScsIGVuU3BlYzogJysnLCBydVNwZWM6ICcrJyxcbiAgfSxcbiAgeyBjb2RlOiAnQmFja3NwYWNlJywgcnU6ICdCYWNrc3BhY2UnLCBlbjogJ0JhY2tzcGFjZScgfSxcbiAgeyBjb2RlOiAnVGFiJywgcnU6ICdUYWInLCBlbjogJ1RhYicgfSxcbiAgeyBjb2RlOiAnS2V5UScsIHJ1OiAn0LknLCBlbjogJ3EnIH0sXG4gIHsgY29kZTogJ0tleVcnLCBydTogJ9GGJywgZW46ICd3JyB9LFxuICB7IGNvZGU6ICdLZXlFJywgcnU6ICfRgycsIGVuOiAnZScgfSxcbiAgeyBjb2RlOiAnS2V5UicsIHJ1OiAn0LonLCBlbjogJ3InIH0sXG4gIHsgY29kZTogJ0tleVQnLCBydTogJ9C1JywgZW46ICd0JyB9LFxuICB7IGNvZGU6ICdLZXlZJywgcnU6ICfQvScsIGVuOiAneScgfSxcbiAgeyBjb2RlOiAnS2V5VScsIHJ1OiAn0LMnLCBlbjogJ3UnIH0sXG4gIHsgY29kZTogJ0tleUknLCBydTogJ9GIJywgZW46ICdpJyB9LFxuICB7IGNvZGU6ICdLZXlPJywgcnU6ICfRiScsIGVuOiAnbycgfSxcbiAgeyBjb2RlOiAnS2V5UCcsIHJ1OiAn0LcnLCBlbjogJ3AnIH0sXG4gIHtcbiAgICBjb2RlOiAnQnJhY2tldExlZnQnLCBydTogJ9GFJywgZW46ICdbJywgZW5TcGVjOiAneycsXG4gIH0sXG4gIHtcbiAgICBjb2RlOiAnQnJhY2tldFJpZ2h0JywgcnU6ICfRiicsIGVuOiAnXScsIGVuU3BlYzogJ30nLFxuICB9LFxuICB7XG4gICAgY29kZTogJ0JhY2tzbGFzaCcsIHJ1OiAnXFxcXCcsIGVuOiAnXFxcXCcsIGVuU3BlYzogJ3wnLCBydVNwZWM6ICcvJyxcbiAgfSxcbiAgeyBjb2RlOiAnRGVsZXRlJywgcnU6ICdEZWwnLCBlbjogJ0RlbCcgfSxcbiAgeyBjb2RlOiAnQ2Fwc0xvY2snLCBydTogJ0NhcHMgTG9jaycsIGVuOiAnQ2FwcyBMb2NrJyB9LFxuICB7IGNvZGU6ICdLZXlBJywgcnU6ICfRhCcsIGVuOiAnYScgfSxcbiAgeyBjb2RlOiAnS2V5UycsIHJ1OiAn0YsnLCBlbjogJ3MnIH0sXG4gIHsgY29kZTogJ0tleUQnLCBydTogJ9CyJywgZW46ICdkJyB9LFxuICB7IGNvZGU6ICdLZXlGJywgcnU6ICfQsCcsIGVuOiAnZicgfSxcbiAgeyBjb2RlOiAnS2V5RycsIHJ1OiAn0L8nLCBlbjogJ2cnIH0sXG4gIHsgY29kZTogJ0tleUgnLCBydTogJ9GAJywgZW46ICdoJyB9LFxuICB7IGNvZGU6ICdLZXlKJywgcnU6ICfQvicsIGVuOiAnaicgfSxcbiAgeyBjb2RlOiAnS2V5SycsIHJ1OiAn0LsnLCBlbjogJ2snIH0sXG4gIHsgY29kZTogJ0tleUwnLCBydTogJ9C0JywgZW46ICdsJyB9LFxuICB7XG4gICAgY29kZTogJ1NlbWljb2xvbicsIHJ1OiAn0LYnLCBlbjogJzsnLCBlblNwZWM6ICc6JyxcbiAgfSxcbiAge1xuICAgIGNvZGU6ICdRdW90ZScsIHJ1OiAn0Y0nLCBlbjogJ1wiJywgZW5TcGVjOiAnXCInLFxuICB9LFxuICB7IGNvZGU6ICdFbnRlcicsIHJ1OiAnRW50ZXInLCBlbjogJ0VudGVyJyB9LFxuICB7IGNvZGU6ICdTaGlmdExlZnQnLCBydTogJ1NoaWZ0JywgZW46ICdTaGlmdCcgfSxcbiAgeyBjb2RlOiAnS2V5WicsIHJ1OiAn0Y8nLCBlbjogJ3onIH0sXG4gIHsgY29kZTogJ0tleVgnLCBydTogJ9GHJywgZW46ICd4JyB9LFxuICB7IGNvZGU6ICdLZXlDJywgcnU6ICfRgScsIGVuOiAnYycgfSxcbiAgeyBjb2RlOiAnS2V5VicsIHJ1OiAn0LwnLCBlbjogJ3YnIH0sXG4gIHsgY29kZTogJ0tleUInLCBydTogJ9C4JywgZW46ICdiJyB9LFxuICB7IGNvZGU6ICdLZXlOJywgcnU6ICfRgicsIGVuOiAnbicgfSxcbiAgeyBjb2RlOiAnS2V5TScsIHJ1OiAn0YwnLCBlbjogJ20nIH0sXG4gIHtcbiAgICBjb2RlOiAnQ29tbWEnLCBydTogJ9CxJywgZW46ICcsJywgZW5TcGVjOiAnPCcsXG4gIH0sXG4gIHtcbiAgICBjb2RlOiAnRG90JywgcnU6ICfRjicsIGVuOiAnLicsIGVuU3BlYzogJz4nLFxuICB9LFxuICB7XG4gICAgY29kZTogJ1NsYXNoJywgcnU6ICcuJywgZW46ICcvJywgZW5TcGVjOiAnPycsIHJ1U3BlYzogJywnLFxuICB9LFxuICB7IGNvZGU6ICdBcnJvd1VwJywgcnU6ICfihpEnLCBlbjogJ+KGkScgfSxcbiAgeyBjb2RlOiAnU2hpZnRSaWdodCcsIHJ1OiAnU2hpZnQnLCBlbjogJ1NoaWZ0JyB9LFxuICB7IGNvZGU6ICdDb250cm9sTGVmdCcsIHJ1OiAnQ3RybCcsIGVuOiAnQ3RybCcgfSxcbiAgeyBjb2RlOiAnTWV0YUxlZnQnLCBydTogJ1dpbicsIGVuOiAnV2luJyB9LFxuICB7IGNvZGU6ICdBbHRMZWZ0JywgcnU6ICdBbHQnLCBlbjogJ0FsdCcgfSxcbiAgeyBjb2RlOiAnU3BhY2UnLCBydTogJ1NwYWNlJywgZW46ICdTcGFjZScgfSxcbiAgeyBjb2RlOiAnQWx0UmlnaHQnLCBydTogJ0FsdCcsIGVuOiAnQWx0JyB9LFxuICB7IGNvZGU6ICdBcnJvd0xlZnQnLCBydTogJ+KGkCcsIGVuOiAn4oaQJyB9LFxuICB7IGNvZGU6ICdBcnJvd0Rvd24nLCBydTogJ+KGkycsIGVuOiAn4oaTJyB9LFxuICB7IGNvZGU6ICdBcnJvd1JpZ2h0JywgcnU6ICfihpInLCBlbjogJ+KGkicgfSxcbiAgeyBjb2RlOiAnQ29udHJvbFJpZ2h0JywgcnU6ICdDdHJsJywgZW46ICdDdHJsJyB9LFxuXTtcblxuXG5leHBvcnQgZGVmYXVsdCBrZXlzO1xuIiwiLy8gaW1wb3J0IGtleXMgZnJvbSAnLi9rZXlzJztcbmltcG9ydCBrZXlzIGZyb20gJy4va2V5cyc7XG5cblxuY29uc3QgYXBwU3RhdGUgPSB7XG4gIGxhbmc6ICdydScsXG4gIHNoaWZ0RmxhZzogJ29mZicsXG59O1xuXG5pZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhbmcnKSAhPT0gbnVsbCkge1xuICBhcHBTdGF0ZS5sYW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhbmcnKTtcbn1cblxuY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5kaXYuY2xhc3NOYW1lID0gJ3dyYXBwZXInO1xuZG9jdW1lbnQuYm9keS5hcHBlbmQoZGl2KTtcbmNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xudGV4dC5jbGFzc05hbWUgPSAndGV4dGFyZWEnO1xudGV4dC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG5kb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3IoJ2RpdicpLmFwcGVuZCh0ZXh0KTtcbmNvbnN0IGtleWJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5rZXlib2FyZC5jbGFzc05hbWUgPSAna2V5Ym9hcmQnO1xuZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKCdkaXYnKS5hcHBlbmQoa2V5Ym9hcmQpO1xuZnVuY3Rpb24gZHJhd0JvYXJkKCkge1xuICBpZiAoYXBwU3RhdGUuc2hpZnRGbGFnID09PSAnb2ZmJykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBndWFyZC1mb3ItaW4sbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBrZXlzKSB7XG4gICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGJ0bi5jbGFzc05hbWUgPSAnYnRuJztcbiAgICAgIGJ0bi5pbm5lclRleHQgPSBhcHBTdGF0ZS5sYW5nID09PSAnZW4nID8ga2V5c1trZXldLmVuIDoga2V5c1trZXldLnJ1O1xuICAgICAgYnRuLnNldEF0dHJpYnV0ZSgna2V5Q29kZScsIGtleXNba2V5XS5jb2RlKTtcbiAgICAgIGtleWJvYXJkLmFwcGVuZENoaWxkKGJ0bik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBndWFyZC1mb3ItaW4sbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBrZXlzKSB7XG4gICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGJ0bi5jbGFzc05hbWUgPSAnYnRuJztcbiAgICAgIGlmIChhcHBTdGF0ZS5sYW5nID09PSAncnUnKSB7XG4gICAgICAgIGJ0bi5pbm5lclRleHQgPSAoa2V5c1trZXldLnJ1U3BlYykgPyBrZXlzW2tleV0ucnVTcGVjIDoga2V5c1trZXldLnJ1O1xuICAgICAgICBidG4uc2V0QXR0cmlidXRlKCdrZXlDb2RlJywga2V5c1trZXldLmNvZGUpO1xuICAgICAgICBrZXlib2FyZC5hcHBlbmRDaGlsZChidG4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnRuLmlubmVyVGV4dCA9IChrZXlzW2tleV0uZW5TcGVjKSA/IGtleXNba2V5XS5lblNwZWMgOiBrZXlzW2tleV0uZW47XG4gICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ2tleUNvZGUnLCBrZXlzW2tleV0uY29kZSk7XG4gICAgICAgIGtleWJvYXJkLmFwcGVuZENoaWxkKGJ0bik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5kcmF3Qm9hcmQoKTtcblxuZnVuY3Rpb24gc2hpZnQoKSB7XG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXZba2V5Y29kZT1LZXlBJykuaW5uZXJUZXh0LmNoYXJDb2RlQXQoKSA9PT0gOTdcbiAgICB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXZba2V5Y29kZT1LZXlBJykuaW5uZXJUZXh0LmNoYXJDb2RlQXQoKSA9PT0gNjUpIHtcbiAgICBrZXlib2FyZC5zdHlsZS50ZXh0VHJhbnNmb3JtID0gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdltrZXljb2RlPUtleUEnKS5pbm5lclRleHQuY2hhckNvZGVBdCgpICE9PSA5NylcbiAgICAgID8gJ25vbmUnXG4gICAgICA6ICdjYXBpdGFsaXplJztcbiAgfVxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2W2tleWNvZGU9S2V5QScpLmlubmVyVGV4dC5jaGFyQ29kZUF0KCkgPT09IDEwNjBcbiAgICB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXZba2V5Y29kZT1LZXlBJykuaW5uZXJUZXh0LmNoYXJDb2RlQXQoKSA9PT0gMTA5Mikge1xuICAgIGtleWJvYXJkLnN0eWxlLnRleHRUcmFuc2Zvcm0gPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2W2tleWNvZGU9S2V5QScpLmlubmVyVGV4dC5jaGFyQ29kZUF0KCkgIT09IDEwOTIpXG4gICAgICA/ICdub25lJ1xuICAgICAgOiAnY2FwaXRhbGl6ZSc7XG4gIH1cbiAgaWYgKGFwcFN0YXRlLnNoaWZ0RmxhZyA9PT0gJ29uJykge1xuICAgIGtleWJvYXJkLmlubmVySFRNTCA9ICcnO1xuICAgIGRyYXdCb2FyZCgpO1xuICB9XG4gIGtleWJvYXJkLmlubmVySFRNTCA9ICcnO1xuICBkcmF3Qm9hcmQoKTtcbn1cblxuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gIGNvbnN0IGJ1dHRvbiA9IGtleXMuZmluZCgoYnRuKSA9PiBidG4uY29kZSA9PT0gZXZlbnQuY29kZSk7XG4gIGNvbnN0IGtleSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGRpdltrZXljb2RlPSR7YnV0dG9uLmNvZGV9XWApO1xuICBjb25zdCBzdHJpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpO1xuICBrZXkuc3R5bGUuYmFja2dyb3VuZCA9ICdsaW5lYXItZ3JhZGllbnQocmdiKDI1MCwgMjUwLCAyNTApLCByZ2IoMTUwLCAxNjAsIDE3MCkpJztcbiAgaWYgKGJ1dHRvblthcHBTdGF0ZS5sYW5nXS5sZW5ndGggPT09IDEpIHtcbiAgICB0ZXh0LnZhbHVlICs9IGAke2tleS5pbm5lclRleHR9YDtcbiAgfVxuICBzd2l0Y2ggKGJ1dHRvbi5jb2RlKSB7XG4gICAgY2FzZSAnQ2Fwc0xvY2snOlxuICAgICAga2V5Ym9hcmQuc3R5bGUudGV4dFRyYW5zZm9ybSA9IGtleWJvYXJkLnN0eWxlLnRleHRUcmFuc2Zvcm0gIT09ICdjYXBpdGFsaXplJ1xuICAgICAgICA/ICdjYXBpdGFsaXplJ1xuICAgICAgICA6ICdub25lJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ1NoaWZ0UmlnaHQnOlxuICAgIGNhc2UgJ1NoaWZ0TGVmdCc6XG4gICAgICBpZiAoYXBwU3RhdGUuc2hpZnRGbGFnID09PSAnb2ZmJykge1xuICAgICAgICBhcHBTdGF0ZS5zaGlmdEZsYWcgPSAnb24nO1xuICAgICAgICBzaGlmdCgpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnVGFiJzpcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0ZXh0LnZhbHVlICs9ICcgICc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdTcGFjZSc6XG4gICAgICB0ZXh0LnZhbHVlICs9ICcgJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0JhY2tzcGFjZSc6XG4gICAgICBzdHJpbmcudmFsdWUgPSBzdHJpbmcudmFsdWUuc3Vic3RyKDAsIHN0cmluZy52YWx1ZS5sZW5ndGggLSAxKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgIHRleHQudmFsdWUgKz0gJ1xcbic7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xuICBjb25zdCBidXR0b24gPSBrZXlzLmZpbmQoKGJ0bikgPT4gYnRuLmNvZGUgPT09IGV2ZW50LmNvZGUpO1xuICBjb25zdCBrZXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBkaXZba2V5Y29kZT0ke2J1dHRvbi5jb2RlfV1gKTtcbiAga2V5LnN0eWxlLmJhY2tncm91bmQgPSAncmdiKDI0MywgMjQzLCAyNDMpJztcbiAgaWYgKGJ1dHRvbi5lbiA9PT0gJ1NoaWZ0Jykge1xuICAgIGFwcFN0YXRlLnNoaWZ0RmxhZyA9ICdvZmYnO1xuICAgIHNoaWZ0KCk7XG4gIH1cbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcua2V5Ym9hcmQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTmFtZSAhPT0gJ2tleWJvYXJkJyAmJiBldmVudC50YXJnZXQuaW5uZXJUZXh0Lmxlbmd0aCA9PT0gMSkge1xuICAgIHRleHQudmFsdWUgKz0gYCR7ZXZlbnQudGFyZ2V0LmlubmVyVGV4dH1gO1xuICB9XG4gIGNvbnN0IGJ1dHRvbiA9IGtleXMuZmluZCgoYnRuKSA9PiBidG4uZW4gPT09IGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICBjb25zdCBzdHJpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpO1xuICBzd2l0Y2ggKGJ1dHRvbi5jb2RlKSB7XG4gICAgY2FzZSAnQ2Fwc0xvY2snOlxuICAgICAga2V5Ym9hcmQuc3R5bGUudGV4dFRyYW5zZm9ybSA9IGtleWJvYXJkLnN0eWxlLnRleHRUcmFuc2Zvcm0gIT09ICdjYXBpdGFsaXplJ1xuICAgICAgICA/ICdjYXBpdGFsaXplJ1xuICAgICAgICA6ICdub25lJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ1RhYic6XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGV4dC52YWx1ZSArPSAnICAnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnQmFja3NwYWNlJzpcbiAgICAgIHN0cmluZy52YWx1ZSA9IHN0cmluZy52YWx1ZS5zdWJzdHIoMCwgc3RyaW5nLnZhbHVlLmxlbmd0aCAtIDEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnU3BhY2UnOlxuICAgICAgdGV4dC52YWx1ZSArPSAnICc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdFbnRlcic6XG4gICAgICB0ZXh0LnZhbHVlICs9ICdcXG4nO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmtleWJvYXJkJykuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2ZW50KSA9PiB7XG4gIGNvbnN0IGJ1dHRvbiA9IGtleXMuZmluZCgoYnRuKSA9PiBidG4uZW4gPT09IGV2ZW50LnRhcmdldC5pbm5lclRleHQpO1xuICBpZiAoYnV0dG9uLmVuID09PSAnU2hpZnQnKSB7XG4gICAgaWYgKGFwcFN0YXRlLnNoaWZ0RmxhZyA9PT0gJ29mZicpIHtcbiAgICAgIGFwcFN0YXRlLnNoaWZ0RmxhZyA9ICdvbic7XG4gICAgICBzaGlmdCgpO1xuICAgIH1cbiAgfVxufSk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5rZXlib2FyZCcpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZXZlbnQpID0+IHtcbiAgY29uc3QgYnV0dG9uID0ga2V5cy5maW5kKChidG4pID0+IGJ0bi5lbiA9PT0gZXZlbnQudGFyZ2V0LmlubmVyVGV4dCk7XG4gIGlmIChidXR0b24uY29kZSA9PT0gJ1NoaWZ0UmlnaHQnIHx8IGJ1dHRvbi5jb2RlID09PSAnU2hpZnRMZWZ0Jykge1xuICAgIGFwcFN0YXRlLnNoaWZ0RmxhZyA9ICdvZmYnO1xuICAgIHNoaWZ0KCk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBydW5PbktleXMoZnVuYywgLi4uY29kZXMpIHtcbiAgY29uc3QgcHJlc3NlZCA9IG5ldyBTZXQoKTtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgcHJlc3NlZC5hZGQoZXZlbnQuY29kZSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICBmb3IgKGNvbnN0IGNvZGUgb2YgY29kZXMpIHtcbiAgICAgIGlmICghcHJlc3NlZC5oYXMoY29kZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBwcmVzc2VkLmNsZWFyKCk7XG4gICAgYXBwU3RhdGUubGFuZyA9IGZ1bmMoKSA9PT0gJ3J1JyA/ICdlbicgOiAncnUnO1xuICAgIGtleWJvYXJkLmlubmVySFRNTCA9ICcnO1xuICAgIGRyYXdCb2FyZCgpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYW5nJywgYXBwU3RhdGUubGFuZyk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XG4gICAgcHJlc3NlZC5kZWxldGUoZXZlbnQuY29kZSk7XG4gIH0pO1xufVxuXG5ydW5PbktleXMoXG4gICgpID0+IGFwcFN0YXRlLmxhbmcsXG4gICdDb250cm9sTGVmdCcsXG4gICdBbHRMZWZ0Jyxcbik7XG5ydW5PbktleXMoXG4gICgpID0+IGFwcFN0YXRlLmxhbmcsXG4gICdDb250cm9sUmlnaHQnLFxuICAnQWx0UmlnaHQnLFxuKTtcbnJ1bk9uS2V5cyhcbiAgKCkgPT4gYXBwU3RhdGUubGFuZyxcbiAgJ0NvbnRyb2xMZWZ0JyxcbiAgJ0FsdFJpZ2h0Jyxcbik7XG5ydW5PbktleXMoXG4gICgpID0+IGFwcFN0YXRlLmxhbmcsXG4gICdDb250cm9sUmlnaHQnLFxuICAnQWx0TGVmdCcsXG4pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==